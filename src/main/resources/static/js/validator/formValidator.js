var initConfig_setting,formValidator_setting,inputValidator_setting,compareValidator_setting,regexValidator_setting,ajaxForm_setting,ajaxValidator_setting,functionValidator_setting,passwordValidator_setting,fv_scriptSrc;!function($){$.formValidator={initConfig:function(a){var c,d,e,f,g,h,b={};$.extend(!0,b,initConfig_setting,a||{}),"SingleTip"==b.mode&&(b.errorFocus=!1),""!=b.formID&&$("#"+b.formID).submit(function(){return null!=b.ajaxForm?($.formValidator.ajaxForm(b.validatorGroup,b.ajaxForm),!1):b.ajaxCountValid>0?(b.onAlert(b.ajaxPrompt),!1):$.formValidator.pageIsValid(b.validatorGroup)}),$("body").data(b.validatorGroup,b),""!=b.theme&&(c=fv_scriptSrc.split("/"),d=c[c.length-1],e=fv_scriptSrc.replace(d,""),$.ajax({async:!1,type:"GET",url:e+"themes/"+b.theme+"/js/theme.js",dataType:"script",error:function(){alert("当前皮肤加载出错，请确认皮肤【"+b.theme+"】是否存在")}}),$.support.msie?(f=document.createElement("link"),f.rel="stylesheet",f.type="text/css",f.href=e+"themes/"+b.theme+"/style/style.css",document.getElementsByTagName("head")[0].appendChild(f)):(g=document.createElement("style"),g.setAttribute("type","text/css"),h="@import url('"+e+"themes/"+b.theme+"/style/style.css');",g.styleSheet?g.styleSheet.cssText=h:g.appendChild(document.createTextNode(h)),document.getElementsByTagName("head")[0].appendChild(g)))},sustainType:function(a,b){var c=a.tagName,d=a.type;switch(b){case"formValidator":return!0;case"inputValidator":return"INPUT"==c||"TEXTAREA"==c||"SELECT"==c;case"compareValidator":return"INPUT"==c||"TEXTAREA"==c?"checkbox"!=d&&"radio"!=d:!1;case"ajaxValidator":return"text"==d||"textarea"==d||"file"==d||"password"==d||"select-one"==d;case"regexValidator":return"INPUT"==c||"TEXTAREA"==c?"checkbox"!=d&&"radio"!=d:!1;case"functionValidator":return!0;case"passwordValidator":return"password"==d}},appendValid:function(a,b){var e,c=$("#"+a).get(0),d=b.validateType;return $.formValidator.sustainType(c,d)?(("formValidator"==d||void 0==c.settings)&&(c.settings=new Array),e=c.settings.push(b),c.settings[e-1].index=e-1,e-1):-1},setTipState:function(a,b,c){var e,f,g,h,i,d=$("body").data(a.validatorGroup);if("SingleTip"==d.mode)$("#fv_content").html(c),a.Tooltip=c,"onError"!=b&&e.hide();else{if(e=$("#"+a.settings[0].tipID),f="onShow"==b?onShowHtml:"onFocus"==b?onFocusHtml:"onCorrect"==b?onCorrectHtml:onErrorHtml,f.length=0)e.hide();else{if(a.validatorPasswordIndex>0&&"onCorrect"==b){if(g=a.settings[a.validatorPasswordIndex],h=$.formValidator.passwordValid(a),c="",-1==h&&""!=g.onErrorContinueChar?c=g.onErrorContinueChar:-2==h&&""!=g.onErrorSameChar?c=g.onErrorSameChar:-3==h&&""!=g.onErrorCompareSame&&(c=g.onErrorCompareSame),""!=c)return $.formValidator.setTipState(a,"onError",c),void 0;c=passwordStrengthText[0>=h?0:h-1]}f=f.replace(/\$class\$/g,b).replace(/\$data\$/g,c),e.html(f).show()}i=a.type,("password"==i||"text"==i||"file"==i)&&(jqobj=$(a),""!=onShowClass&&"onShow"==b&&$.formValidator.addClass(jqobj,onShowClass),""!=onFocusClass&&"onFocus"==b&&$.formValidator.addClass(jqobj,onFocusClass),""!=onCorrectClass&&"onCorrect"==b&&$.formValidator.addClass(jqobj,onCorrectClass),""!=onErrorClass&&"onError"==b&&$.formValidator.addClass(jqobj,onErrorClass))}},resetTipState:function(a){void 0==a&&(a="1");var b=$("body").data(a);$.each(b.validObjects,function(){var a=this.settings[0],b=a.defaultPassed;$.formValidator.setTipState(this,b?"onCorrect":"onShow",b?$.formValidator.getStatusText(this,a.onCorrect):a.onShow)})},setFailState:function(a,b){$.formValidator.setTipState($("#"+a).get(0),"onError",b)},showMessage:function(a){var i,b=a.id,c=$("#"+b).get(0),d=a.isValid,e=a.setting,f="",g="",h=$("body").data(c.validatorGroup);return d?(i=$.formValidator.isEmpty(b),i?(g="onShow",f=$.formValidator.getStatusText(c,e.onShow)):(g="onCorrect",f=$.formValidator.getStatusText(c,e.onCorrect)),$.formValidator.setTipState(c,g,f)):(g="onError","ajaxValidator"==e.validateType?""==e.lastValid?(g="onLoad",f=e.onWait):f=$.formValidator.getStatusText(c,e.onError):f=""==a.errormsg?$.formValidator.getStatusText(c,e.onError):a.errormsg,"AlertTip"==h.mode?c.validValueOld!=$(c).val()&&h.onAlert(f):$.formValidator.setTipState(c,g,f)),f},showAjaxMessage:function(a){var b=$("#"+a.id).get(0),c=b.settings[a.ajax],d=b.validValueOld,e=$(b).val();a.setting=c,d!=e||d==e&&void 0==b.onceValided?$.formValidator.ajaxValid(a):(void 0==c.isValid||c.isValid||(b.lastshowclass="onError",b.lastshowmsg=$.formValidator.getStatusText(b,c.onError)),$.formValidator.setTipState(b,b.lastshowclass,b.lastshowmsg))},getLength:function(a,b){var g,h,i,j,c=$("#"+a),d=c.get(0),e=d.type,f=0;switch(e){case"text":case"hidden":case"password":case"textarea":case"file":if(g=b?c.val().replace(/(\s*$)/g,""):c.val(),h=d.settings[0],d.isInputControl&&d.value==h.onShowText&&(g=""),i=$("body").data(d.validatorGroup),i.wideWord)for(j=0;j<g.length;j++)f+=g.charCodeAt(j)>=19968&&g.charCodeAt(j)<=40869?2:1;else f=g.length;break;case"checkbox":case"radio":f=$("input[type='"+e+"'][name='"+c.attr("name")+"']:checked").length;break;case"select-one":f=d.options?d.options.selectedIndex:-1;break;case"select-multiple":f=$("select[name="+d.name+"] option:selected").length}return f},isEmpty:function(a){return $("#"+a).get(0).settings[0].empty&&0==$.formValidator.getLength(a,!0)},isOneValid:function(a){return $.formValidator.oneIsValid(a).isValid},oneIsValid:function(a){var c,d,e,b={};if(b.id=a,b.dom=$("#"+a).get(0),b.initConfig=$("body").data(b.dom.validatorGroup),b.ajax=-1,b.errormsg="",b.settings=b.dom.settings,c=b.settings.length,1==c&&(b.settings[0].bind=!1),!b.settings[0].bind)return null;for($.formValidator.resetInputValue(!0,b.initConfig,a),e=0;c>e;e++)if(0!=e){switch(b.setting=b.settings[e],d=b.settings[e].validateType){case"inputValidator":$.formValidator.inputValid(b);break;case"compareValidator":$.formValidator.compareValid(b);break;case"regexValidator":$.formValidator.regexValid(b);break;case"functionValidator":$.formValidator.functionValid(b);break;case"ajaxValidator":b.ajax=e;break;case"passwordValidator":}if(!b.settings[e].isValid){b.isValid=!1,b.setting=b.settings[e];break}if(b.isValid=!0,b.setting=b.settings[0],"ajaxValidator"==b.settings[e].validateType)break}else if($.formValidator.isEmpty(a)){b.isValid=!0,b.setting=b.settings[0];break}return $.formValidator.resetInputValue(!1,b.initConfig,a),b},pageIsValid:function(a){var c,e,b,d,g,h,f,i,j,k;if(void 0==a&&(a="1"),b=!0,d="",f="^",i="^",j=new Array,k=$("body").data(a),k.status="sumbiting",k.ajaxCountSubmit=0,$.each(k.validObjects,function(){return 0==$(this).length?!0:(this.settings[0].bind&&void 0!=this.validatorAjaxIndex&&void 0==this.onceValided&&(c=$.formValidator.oneIsValid(this.id),c.ajax==this.validatorAjaxIndex&&(k.status="sumbitingWithAjax",$.formValidator.ajaxValid(c))),void 0)}),k.ajaxCountSubmit>0)return!1;if($.each(k.validObjects,function(){if(0==$(this).length)return!0;if(this.settings[0].bind&&(h=this.name,-1==i.indexOf("^"+h+"^")&&(onceValided=void 0==this.onceValided?!1:this.onceValided,h&&(i=i+h+"^"),c=$.formValidator.oneIsValid(this.id)))){if(c.isValid||(b=!1,e=""==c.errormsg?c.setting.onError:c.errormsg,j[j.length]=e,null==g&&(g=c.id),""==d&&(d=e)),"AlertTip"!=k.mode){var a=this.settings[0].tipID;-1==f.indexOf("^"+a+"^")&&(c.isValid||(f=f+a+"^"),$.formValidator.showMessage(c))}if(k.oneByOneVerify&&!c.isValid)return!1}}),b){if(!k.onSuccess())return!1;k.submitOnce&&$(":submit,:button,:reset").attr("disabled",!0)}else k.onError(d,$("#"+g).get(0),j),g&&k.errorFocus&&$("#"+g).focus();return k.status="init",b&&k.debug&&alert("现在正处于调试模式(debug:true)，不能提交"),!k.debug&&b},ajaxForm:function(a,b,c){var d,e,f,g;return void 0==a&&(a="1"),d={},$.extend(!0,d,ajaxForm_setting,b||{}),e=$("body").data(a),void 0==c&&(c=e.formID,""==c)?(alert("表单ID未传入"),!1):$.formValidator.pageIsValid(a)?(f=d.url,g={},d.data&&(g=d.data),g=$.formValidator.serialize("#"+c,g),$.ajax({type:d.type,url:f,cache:d.cache,data:g,async:d.async,timeout:d.timeout,dataType:d.dataType,beforeSend:function(a,b){return d.buttons&&d.buttons.length>0&&d.buttons.attr({disabled:!0}),d.beforeSend(a,b)},success:function(a,b,c){d.success(a,b,c)},complete:function(a,b){d.buttons&&d.buttons.length>0&&d.buttons.attr({disabled:!1}),d.complete(a,b)},error:function(a,b,c){d.error(a,b,c)}}),void 0):!1},serialize:function(a,b,c){b||(b={}),void 0!=c&&$.formValidator.resetInputValue(!0,c),void 0!=c&&$.formValidator.resetInputValue(!1,c);var d=$(a).serializeArray();return $.each(d,function(a,c){b[""+c.name]=c.value}),b},addClass:function(a,b){a.removeClass(onShowClass),a.removeClass(onFocusClass),a.removeClass(onErrorClass),a.removeClass(onCorrectClass),a.addClass(b)},ajaxValid:function(a){var j,k,b=a.id,c=$("#"+b),d=c.get(0),e=a.initConfig,f=d.settings,g=f[a.ajax],h=g.url,i=d.validatorGroup;e=$("body").data(i),j={},g.data&&(j=g.data),j=$.formValidator.serialize(e.ajaxObjects,j),k="clientid="+b+"&"+(g.randNumberName?g.randNumberName+"="+((new Date).getTime()+Math.round(1e4*Math.random())):""),h+=h.indexOf("?")>-1?"&"+k:"?"+k,$.ajax({type:g.type,url:h,cache:g.cache,data:j,async:g.async,timeout:g.timeout,dataType:g.dataType,success:function(b,c,h){var j,k,l,m=!1;$.formValidator.dealAjaxRequestCount(i,-1),a.dom.onceValided=!0,j=g.success(b,c,h),"string"==typeof j?(k="onError",l=j):j?(m=!0,k="onCorrect",l=f[0].onCorrect):(k="onError",l=$.formValidator.getStatusText(d,g.onError)),g.isValid=m,$.formValidator.setTipState(d,k,l),"sumbitingWithAjax"==a.initConfig.status&&0==a.initConfig.ajaxCountSubmit&&""!=e.formID&&$("#"+e.formID).trigger("submit")},complete:function(a,b){g.buttons&&g.buttons.length>0&&g.buttons.attr({disabled:!1}),g.complete(a,b)},beforeSend:function(b,c){var e,h;return this.lastXMLHttpRequest&&this.lastXMLHttpRequest.abort(),this.lastXMLHttpRequest=b,g.buttons&&g.buttons.length>0&&g.buttons.attr({disabled:!0}),e=g.beforeSend(b,c),h=!1,g.isValid=!1,"boolean"==typeof e&&e?(h=!0,$.formValidator.setTipState(d,"onLoad",f[a.ajax].onWait)):(h=!1,$.formValidator.setTipState(d,"onError",e)),g.lastValid="-1",h&&$.formValidator.dealAjaxRequestCount(i,1),h},error:function(b,c,e){$.formValidator.dealAjaxRequestCount(i,-1),$.formValidator.setTipState(d,"onError",$.formValidator.getStatusText(d,g.onError)),g.isValid=!1,a.dom.onceValided=!0,g.error(b,c,e)},processData:g.processData})},dealAjaxRequestCount:function(a,b){var c=$("body").data(a);c.ajaxCountValid=c.ajaxCountValid+b,"sumbitingWithAjax"==c.status&&(c.ajaxCountSubmit=c.ajaxCountSubmit+b)},regexValid:function(returnObj){var isValid,regexArray,id=returnObj.id,setting=returnObj.setting,srcTag=$("#"+id).get(0).tagName,elem=$("#"+id).get(0);elem.settings[0].empty&&""==elem.value?setting.isValid=!0:(regexArray=setting.regExp,setting.isValid=!1,"string"==typeof regexArray&&(regexArray=[regexArray]),$.each(regexArray,function(){var r=this;return"enum"==setting.dataType&&(r=eval("regexEnum."+r)),void 0==r||""==r?!1:(isValid=new RegExp(r,setting.param).test($(elem).val()),"||"==setting.compareType&&isValid?(setting.isValid=!0,!1):"&&"!=setting.compareType||isValid?void 0:!1)}),setting.isValid||(setting.isValid=isValid))},functionValid:function(a){var b=a.id,c=a.setting,d=$("#"+b),e=c.fun(d.val(),d.get(0));void 0!=e?"string"==typeof e?(c.isValid=!1,a.errormsg=e):c.isValid=e:c.isValid=!0},inputValid:function(a){var k,l,b=a.id,c=a.setting,d=$("#"+b),e=d.get(0),f=d.val(),g=e.type,h=$.formValidator.getLength(b),i=c.empty,j=!1;switch(g){case"text":case"hidden":case"password":case"textarea":case"file":"size"==c.type&&(i=c.empty,i.leftEmpty||(j=f.replace(/^[ \s]+/,"").length!=f.length),0==$.formValidator.getLength(b,!0)&&(j=!0),j||i.rightEmpty||(j=f.replace(/[ \s]+$/,"").length!=f.length),j&&i.emptyError&&(a.errormsg=i.emptyError));case"checkbox":case"select-one":case"select-multiple":case"radio":k=!1,("select-one"==g||"select-multiple"==g)&&(c.type="size"),l=c.type,"size"==l?(j||(k=!0),k&&(f=h)):"date"==l||"datetime"==l?("date"==l&&(k=isDate(f)),"datetime"==l&&(k=isDate(f)),k&&(f=new Date(f),c.min=new Date(c.min),c.max=new Date(c.max))):(stype=typeof c.min,"number"==stype&&(f=new Number(f).valueOf(),isNaN(f)||(k=!0)),"string"==stype&&(k=!0)),c.isValid=!1,k&&(f<c.min||f>c.max?(f<c.min&&c.onErrorMin&&(a.errormsg=c.onErrorMin),f>c.min&&c.onErrorMax&&(a.errormsg=c.onErrorMax)):c.isValid=!0)}},compareValid:function(a){var g,b=a.id,c=a.setting,d=$("#"+b),e=$("#"+c.desID),f=c.dataType;if(curvalue=d.val(),ls_data=e.val(),"number"==f){if(isNaN(curvalue)||isNaN(ls_data))return;curvalue=parseFloat(curvalue),ls_data=parseFloat(ls_data)}if("date"==f||"datetime"==f){if(g=!1,"date"==f&&(g=isDate(curvalue)&&isDate(ls_data)),"datetime"==f&&(g=isDateTime(curvalue)&&isDateTime(ls_data)),!g)return;curvalue=new Date(curvalue),ls_data=new Date(ls_data)}switch(c.operateor){case"=":c.isValid=curvalue==ls_data;break;case"!=":c.isValid=curvalue!=ls_data;break;case">":c.isValid=curvalue>ls_data;break;case">=":c.isValid=curvalue>=ls_data;break;case"<":c.isValid=ls_data>curvalue;break;case"<=":c.isValid=ls_data>=curvalue;break;default:c.isValid=!1}},passwordValid:function(a){function d(a){var b,c;for(a=a.toLowerCase(),b=0,c=0;c<a.length;c++){if(a.charCodeAt(c)!=b+1&&0!=b)return!1;b=a.charCodeAt(c)}return!0}function e(a){var b,c;for(a=a.toLowerCase(),b=0,c=0;c<a.length;c++){if(a.charCodeAt(c)!=b&&0!=b)return!1;b=a.charCodeAt(c)}return!0}function f(a,b,c){return void 0==b&&(b=[0,0,0,0]),void 0==c&&(c=-1),c++,b[c]=a%2,a=Math.floor(a/2),1==a||0==a?(b[c+1]=a,b):b=f(a,b,c)}var g,h,i,j,k,l,m,b=a.settings[a.validatorPasswordIndex],c=a.value;if(""==c)return 0;if(""!=b.onErrorContinueChar&&d(c))return-1;if(""!=b.onErrorSameChar&&e(c))return-2;if(""!=b.compareID&&$("#"+b.compareID).val()==c)return-3;for(g=[0,0,0,0],h="!,@,#,$,%,^,&,*,?,_,~",i=c.length,j=0;i>j;j++)k=c.charCodeAt(j),k>=48&&57>=k?g[0]+=1:k>=97&&122>=k?g[1]+=1:k>=65&&90>=k?g[2]+=1:h.indexOf(c.substr(j,1))>=0&&(g[3]+=1);return l=0,m=!0,$.each(passwordStrengthRule,function(a,b){var c=b.level,d=b.rule;$.each(d,function(a,b){var d=0;return m=!0,$.each(f(b.flag),function(a,c){if(1==c){e=b.value[d++];var e=0==e?i:e>i?i:e;if(g[a]<e)return m=!1,!1}}),m?(l=c,!1):void 0}),m&&(l=c)}),l},localTooltip:function(a){var b,c;a=a||window.event,b=a.pageX||(a.clientX?a.clientX+document.body.scrollLeft:0),c=a.pageY||(a.clientY?a.clientY+document.body.scrollTop:0),$("#fvtt").css({top:c+2+"px",left:b-40+"px"})},reloadAutoTip:function(a){void 0==a&&(a="1");var b=$("body").data(a);$.each(b.validObjects,function(){var a,c,d,e,f;"AutoTip"==b.mode&&(a=this.settings[0],c="#"+a.relativeID,d=$(c).offset(),e=d.top,f=$(c).width()+d.left,$("#"+a.tipID).parent().show().css({left:f+"px",top:e+"px"}))})},getStatusText:function(a,b){return $.isFunction(b)?b($(a).val()):b},resetInputValue:function(a,b,c){var d;d=c?$("#"+c):$(b.showTextObjects),d.each(function(b,c){if(c.isInputControl){var d=c.settings[0].onShowText;a&&d==c.value&&(c.value=""),a||""==d||""!=c.value||(c.value=d)}})}},$.fn.formValidator=function(a){var b,c;return a=a||{},b={},void 0==a.validatorGroup&&(a.validatorGroup="1"),$.extend(!0,b,formValidator_setting),c=$("body").data(a.validatorGroup),c.validCount+=1,"SingleTip"==c.mode&&(b.tipCss={left:10,top:1,width:22,height:22,display:"none"}),"AlertTip"==c.mode&&(b.autoModify=!1),$.extend(!0,b,a||{}),this.each(function(){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;this.validatorIndex=c.validCount-1,this.validatorGroup=a.validatorGroup,e=$(this),f={},$.extend(!0,f,b),g=e.attr("id"),g||(g=Math.ceil(5e7*Math.random()),e.attr("id",g)),h=f.tipID?f.tipID:g+"Tip","AutoTip"==c.mode||"FixTip"==c.mode?(i=$("#"+h),"AutoTip"==c.mode&&0==i.length&&(j=f.relativeID?f.relativeID:g,k=$("#"+j).offset(),f.tipCss.top=k.top+f.tipCss.top,f.tipCss.left=$("#"+j).width()+k.left+f.tipCss.left,i=$("<div style='position:absolute;' id='"+h+"'></div>").appendTo($("body")),i.css(f.tipCss),b.relativeID=j),i.css("margin","0px").css("padding","0px").css("background","transparent")):"SingleTip"==c.mode&&e.showTooltips(),b.tipID=h,b.pwdTipID=f.pwdTipID?f.pwdTipID:b.tipID,b.fixTipID=f.fixTipID?f.fixTipID:g+"FixTip",$.formValidator.appendValid(g,b),l=$.inArray(e,c.validObjects),-1==l?(f.ajax&&c.ajaxObjects.push(this),c.validObjects.push(this)):c.validObjects[l]=this,"AlertTip"!=c.mode&&$.formValidator.setTipState(this,"onShow",b.onShow),m=this.tagName.toLowerCase(),n=this.type,o=b.defaultValue,p="password"==n||"text"==n||"textarea"==n,this.isInputControl=p,o&&e.val(o),q=$("#"+b.fixTipID),r=b.onShowFixText,1==q.length&&""!=onMouseOutFixTextHtml&&""!=onMouseOnFixTextHtml&&""!=r&&(e.hover(function(){q.html(onMouseOnFixTextHtml.replace(/\$data\$/g,r))},function(){q.html(onMouseOutFixTextHtml.replace(/\$data\$/g,r))}),q.css("padding","0px 0px 0px 0px").css("margin","0px 0px 0px 0px").html(onMouseOutFixTextHtml.replace(/\$data\$/g,b.onShowFixText))),s=b.onShowText,"input"==m||"textarea"==m?(p&&""!=s&&""==e.val()&&(showObjs=c.showTextObjects,c.showTextObjects=showObjs+(""!=showObjs?",#":"#")+g,e.val(s),e.css("color",b.onShowTextColor.mouseOutColor)),e.focus(function(){var a,d;p&&(a=e.val(),this.validValueOld=a,s==a&&(this.value="",e.css("color",b.onShowTextColor.mouseOnColor))),"AlertTip"!=c.mode&&(d=$("#"+h),this.lastshowclass=d.attr("class"),this.lastshowmsg=d.text(),$.formValidator.setTipState(this,"onFocus",b.onFocus)),this.validatorPasswordIndex>0&&($("#"+b.pwdTipID).show(),e.trigger("keyup"))}),e.bind("keyup",function(){var a,c;if(this.validatorPasswordIndex>0)try{a=$.formValidator.oneIsValid(g),c=$.formValidator.passwordValid(this),0>c&&(c=0),a.isValid||(c=0),$("#"+b.pwdTipID).show(),$("#"+b.pwdTipID).html(passwordStrengthStatusHtml[c])}catch(d){alert("密码强度校验失败,错误原因:变量passwordStrengthStatusHtml语法错误或者为设置)")}}),t=b.triggerEvent,("checkbox"==n||"radio"==n)&&(t="click"),e.bind(t,function(){var d,f,h,a=this.settings;a[0].leftTrim&&(this.value=this.value.replace(/^\s*/g,"")),a[0].rightTrim&&(this.value=this.value.replace(/\s*$/g,"")),p&&(""==this.value&&""!=s&&(this.value=s),this.value==s&&e.css("color",b.onShowTextColor.mouseOutColor)),d=$.formValidator.oneIsValid(g),null!=d&&(d.ajax>=0?$.formValidator.showAjaxMessage(d):(f=$.formValidator.showMessage(d),d.isValid||(h=b.autoModify&&p,h?($(this).val(this.validValueOld),"AlertTip"!=c.mode&&$.formValidator.setTipState(this,"onShow",$.formValidator.getStatusText(this,b.onCorrect))):(c.forceValid||b.forceValid)&&(intiConfig.onAlert(f),this.focus()))))})):"select"==m&&e.bind({focus:function(){"AlertTip"!=c.mode&&$.formValidator.setTipState(this,"onFocus",b.onFocus)},blur:function(){(void 0==this.validValueOld||this.validValueOld==e.val())&&$(this).trigger("change")},change:function(){var a=$.formValidator.oneIsValid(g);null!=a&&(a.ajax>=0?$.formValidator.showAjaxMessage(a):$.formValidator.showMessage(a))}})})},$.fn.inputValidator=function(a){var b={};return $.extend(!0,b,inputValidator_setting,a||{}),this.each(function(){$.formValidator.appendValid(this.id,b)})},$.fn.compareValidator=function(a){var b={};return $.extend(!0,b,compareValidator_setting,a||{}),this.each(function(){$.formValidator.appendValid(this.id,b)})},$.fn.regexValidator=function(a){var b={};return $.extend(!0,b,regexValidator_setting,a||{}),this.each(function(){$.formValidator.appendValid(this.id,b)})},$.fn.functionValidator=function(a){var b={};return $.extend(!0,b,functionValidator_setting,a||{}),this.each(function(){$.formValidator.appendValid(this.id,b)})},$.fn.ajaxValidator=function(a){var b={};return $.extend(!0,b,ajaxValidator_setting,a||{}),this.each(function(){var a=$("body").data(this.validatorGroup);-1==$.inArray(this,a.ajaxObjects)&&a.ajaxObjects.push(this),this.validatorAjaxIndex=$.formValidator.appendValid(this.id,b)})},$.fn.passwordValidator=function(a){var b={};return $.extend(!0,b,passwordValidator_setting,a||{}),this.each(function(){this.validatorPasswordIndex=$.formValidator.appendValid(this.id,b)})},$.fn.defaultPassed=function(a){return this.each(function(){var c,b=this.settings;for(b[0].defaultPassed=!0,this.onceValided=!0,c=1;c<b.length;c++)b[c].isValid=!0,"AlertTip"!=$("body").data(b[0].validatorGroup).mode&&(this.lastshowclass=a?"onShow":"onCorrect",this.lastshowmsg=a?b[0].onShow:b[0].onCorrect,$.formValidator.setTipState(this,this.lastshowclass,this.lastshowmsg))})},$.fn.unFormValidator=function(a){return this.each(function(){this.settings&&(this.settings[0].bind=!a,a?$("#"+this.settings[0].tipID).hide():$("#"+this.settings[0].tipID).show())})},$.fn.showTooltips=function(){return 0==$("body [id=fvtt]").length&&(fvtt=$("<div id='fvtt' style='position:absolute;z-index:56002'></div>"),$("body").append(fvtt),fvtt.before("<iframe index=0 src='about:blank' class='fv_iframe' scrolling='no' frameborder='0'></iframe>")),this.each(function(){jqobj=$(this),s=$("<span class='top' id=fv_content style='display:block'></span>"),b=$("<b class='bottom' style='display:block' />"),this.tooltip=$("<span class='fv_tooltip' style='display:block'></span>").append(s).append(b).css({filter:"alpha(opacity:95)",KHTMLOpacity:"0.95",MozOpacity:"0.95",opacity:"0.95"}),jqobj.bind({mouseover:function(a){$("#fvtt").empty().append(this.tooltip).show(),$("#fv_content").html(this.Tooltip),$.formValidator.localTooltip(a)},mouseout:function(){$("#fvtt").hide()},mousemove:function(a){$.formValidator.localTooltip(a)}})})}}(jQuery),initConfig_setting={theme:"Default",validatorGroup:"1",formID:"",submitOnce:!1,ajaxForm:null,mode:"FixTip",errorFocus:!0,wideWord:!0,forceValid:!1,debug:!1,inIframe:!1,onSuccess:function(){return!0},onError:$.noop,onAlert:function(){alert(arguments[0])},status:"",ajaxPrompt:"当前有数据正在进行服务器端校验，请稍候",validCount:0,ajaxCountSubmit:0,ajaxCountValid:0,validObjects:[],ajaxObjects:[],showTextObjects:"",validateType:"initConfig",offsetChrome:{left:42,top:0},oneByOneVerify:!1},formValidator_setting={validatorGroup:"1",onShowText:"",onShowTextColor:{mouseOnColor:"#000000",mouseOutColor:"#999999"},onShowFixText:"",onShow:"请输入内容",onFocus:"请输入内容",onCorrect:"&nbsp;",onEmpty:"输入内容为空",empty:!1,autoModify:!1,defaultValue:null,bind:!0,ajax:!1,validateType:"formValidator",tipCss:{left:10,top:0,height:20,width:"auto"},triggerEvent:"blur",forceValid:!1,tipID:null,pwdTipID:null,fixTipID:null,relativeID:null,index:0,leftTrim:!1,rightTrim:!1},inputValidator_setting={isValid:!1,type:"size",min:0,max:99999,onError:"输入错误",validateType:"inputValidator",empty:{leftEmpty:!0,rightEmpty:!0,leftEmptyError:null,rightEmptyError:null}},compareValidator_setting={isValid:!1,desID:"",operateor:"=",onError:"输入错误",validateType:"compareValidator"},regexValidator_setting={isValid:!1,regExp:"",param:"i",dataType:"string",compareType:"||",onError:"输入的格式不正确",validateType:"regexValidator"},ajaxForm_setting={type:"GET",url:window.location.href,dataType:"html",timeout:1e5,data:null,type:"GET",async:!0,cache:!1,buttons:null,beforeSend:function(){return!0},success:function(){return!0},complete:$.noop,processData:!0,error:$.noop},ajaxValidator_setting={isValid:!1,lastValid:"",oneceValid:!1,randNumberName:"rand",onError:"服务器校验没有通过",onWait:"正在等待服务器返回数据",validateType:"ajaxValidator"},$.extend(!0,ajaxValidator_setting,ajaxForm_setting),functionValidator_setting={isValid:!0,fun:function(){this.isValid=!0},validateType:"functionValidator",onError:"输入错误"},passwordValidator_setting={isValid:!0,compareID:"",validateType:"passwordValidator",onErrorContinueChar:"密码字符为连续字符不被允许",onErrorSameChar:"密码字符都相同不被允许",onErrorCompareSame:"密码于用户名相同不被允许"},fv_scriptSrc=document.getElementsByTagName("script")[document.getElementsByTagName("script").length-1].src;